<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cloud.tv.core.mapper.NodeMapper">

    <select id="getObjByHostAddress" parameterType="java.lang.String">
        SELECT * FROM metoo_topo_node
        WHERE hostAddress = #{hostAddress,jdbcType=VARCHAR}
    </select>

    <insert id="save" keyProperty="id" useGeneratedKeys="true" parameterType="com.cloud.tv.entity.TopoNode">
        INSERT INTO metoo_topo_node
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="branchLevel != null">
                  branchLevel,
            </if>
            <if test="branchId != null">
                branchId,
            </if>
            <if test="branchName != null">
                branchName,
            </if>
            <if test="hostAddress != null">
                hostAddress,
            </if>
            <if test="deviceName != null">
                deviceName,
            </if>
            <if test="vendorName != null">
                vendorName,
            </if>
            <if test="type != null">
                `type`,
            </if>
            <if test="origin != null">
                origin,
            </if>
            <if test="gatherTime != null">
                gatherTime,
            </if>
            <if test="skipAnalysis != null">
                skipAnalysis,
            </if>
            <if test="toSameInbound != null">
                toSameInbound,
            </if>
            <if test="layerTwoDevice != null">
                layerTwoDevice,
            </if>
            <if test="description != null">
                description,
            </if>
            <if test="state != null">
                state,
            </if>
            <if test="uuid != null">
                uuid,
            </if>
            <if test="vendorId != null">
                vendorId,
            </if>
            <if test="version != null">
                version,
            </if>
            <if test="errorMess != null">
                errorMess,
            </if>
            <if test="stateDesc != null">
                stateDesc,
            </if>
            <if test="charset != null">
                charset,
            </if>
            <if test="credentialUuid != null">
                credentialUuid,
            </if>
            <if test="pushCredentialUuid != null">
                pushCredentialUuid,
            </if>
            <if test="taskType != null">
                taskType,
            </if>
            <if test="taskUuid != null">
                taskUuid,
            </if>
            <if test="timeout != null">
                timeout,
            </if>
            <if test="webHref != null">
                webHref,
            </if>
        </trim>
        <trim prefix="VALUES(" suffix=")" suffixOverrides=",">
            <if test="branchLevel != null">
                branchLevel,
            </if>
            <if test="branchId != null">
                #{branchId},
            </if>
            <if test="branchName != null">
                #{branchName},
            </if>
            <if test="hostAddress != null">
                #{hostAddress},
            </if>
            <if test="deviceName != null">
                #{deviceName},
            </if>
            <if test="vendorName != null">
                #{vendorName},
            </if>
            <if test="type != null">
                #{type},
            </if>
            <if test="origin != null">
                #{origin},
            </if>
            <if test="gatherTime != null">
                #{gatherTime},
            </if>
            <if test="skipAnalysis != null">
                #{skipAnalysis},
            </if>
            <if test="toSameInbound != null">
                #{toSameInbound},
            </if>
            <if test="layerTwoDevice != null">
                #{layerTwoDevice},
            </if>
            <if test="description != null">
                #{description},
            </if>
            <if test="state != null">
                #{state},
            </if>
            <if test="uuid != null">
                #{uuid},
            </if>
            <if test="vendorId != null">
                #{vendorId},
            </if>
            <if test="version != null">
                #{version},
            </if>
            <if test="errorMess != null">
                #{errorMess},
            </if>
            <if test="stateDesc != null">
                #{stateDesc},
            </if>
            <if test="charset != null">
                #{charset},
            </if>
            <if test="credentialUuid != null">
                #{credentialUuid},
            </if>
            <if test="pushCredentialUuid != null">
                #{pushCredentialUuid},
            </if>
            <if test="taskType != null">
                #{taskType},
            </if>
            <if test="taskUuid != null">
                #{taskUuid},
            </if>
            <if test="timeout != null">
                #{timeout},
            </if>
            <if test="webHref != null">
                #{webHref},
            </if>
        </trim>
    </insert>
</mapper>